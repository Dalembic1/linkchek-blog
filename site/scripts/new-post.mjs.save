#!/usr/bin/env node
import fs from "fs";
import path from "path";

const title = process.argv.slice(2).join(" ");
if (!title) {
  console.error("❌ Please provide a post title");
  process.exit(1);
}

const slug = title
  .toLowerCase()
  .replace(/[^a-z0-9]+/g, "-")
  .replace(/(^-|-$)/g, "");

const date = new Date().toISOString().split("T")[0];

const content = `---
title: "${title}"
description: ""
pubDate: ${date}
heroImage: "https://i.imgur.com/REPLACE.jpg"
---

## ${title}

Write your post here.
`;

const postsDir = path.resolve("src/content/blog");
if (!fs.existsSync(postsDir)) {
  console.error("❌ src/content/blog does not exist");
  process.exit(1);
}

const filePath = path.join(postsDir, `${slug}.md`);
if (fs.existsSync(filePath)) {
  console.error("❌ Post already exists:", filePath);
  process.exit(1);
}

fs.writeFileSync(filePath, content);
console.log("✅ New post created:", filePath);

mkdir -p scripts
nano scripts/new-post.mjs

#!/usr/bin/env node
import fs from "fs";
import path from "path";

const title = process.argv.slice(2).join(" ");
if (!title) {
  console.error("❌ Please provide a post title");
  process.exit(1);
}

const slug = title
  .toLowerCase()
  .replace(/[^a-z0-9]+/g, "-")
  .replace(/(^-|-$)/g, "");

const date = new Date().toISOString().split("T")[0];

const content = `---
title: "${title}"
description: ""
pubDate: ${date}
heroImage: "https://i.imgur.com/REPLACE.jpg"
---

## ${title}

Write your post here.
`;

const postsDir = path.resolve("src/content/blog");
if (!fs.existsSync(postsDir)) {
  console.error("❌ src/content/blog does not exist");
  process.exit(1);
}

const filePath = path.join(postsDir, `${slug}.md`);
if (fs.existsSync(filePath)) {
  console.error("❌ Post already exists:", filePath);
  process.exit(1);
}

fs.writeFileSync(filePath, content);
console.log("✅ New post created:", filePath);

pwd
ls -la | head -n 30
git status


